{% extends 'base.html' %}
{% load static %}

{% block css %}
  <link rel="stylesheet" href="{% static 'css/other.css' %}" />
{% endblock %}

{% block title %}
  Questions - QuizVerse
{% endblock %}

{% block hero %}

{% endblock %}

{% block content %}
  <div class="auth-container quizzes-container">
    <h2 class="question-h2">Questions for "{{ quiz.title }}"</h2>

    <div class="quiz-section">
      <div class="quiz-list">
        {% for question in questions %}
          <div class="quiz-item">
            <div class="quiz-title">
              {{ question.text }}
              {% comment %} <a href="{% url 'answer_list' question.id %}" class="quiz-link"></a> {% endcomment %}
            </div>
            <div class="quiz-cruds">
              <a href="{% url 'question_update' quiz.id question.id %}"><i class="fa-solid fa-pen-to-square"></i></a>
              <a href="{% url 'question_confirm_delete' quiz.id question.id %}"><i class="fa-solid fa-trash"></i></a>
            </div>
          </div>
        {% empty %}
          <div>No questions yet.</div>
        {% endfor %}
      </div>
    </div>

    <div class="question-form">
      {% if not question %}
        <h3>Add a Question</h3>
        <form method="POST" action="{% url 'question_add' quiz.id %}">
          {% csrf_token %}
          {{ form.as_p }}
          <button type="submit" class="btn">Add Question</button>
        </form>
      {% else %}
        <h3>Update Question</h3>
        <form method="POST" action="{% url 'question_update' quiz.id question.id %}">
          {% csrf_token %}
          {{ form.as_p }}
          <button type="submit" class="btn">Update Question</button>
        </form>
      {% endif %}
    </div>

    <a href="{% url 'quiz_list' %}" class="back-link">Back to Quizzes</a>
  </div>
{% endblock %}
